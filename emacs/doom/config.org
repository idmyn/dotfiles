* My Doom Config
This [[https://en.wikipedia.org/wiki/Literate_programming][literate]] config file is [[https://orgmode.org/manual/Extracting-source-code.html][tangled]] into =~/.doom.d/config.el= when doom is
run and it notices changes. To achieve this behaviour, I had to [[https://github.com/idmyn/dotfiles/commit/42ea6a64575565c1e9c9807e359d80161ab8fb91][enable the
literate config module]] in =~/.doom.d/init.el=.

#+BEGIN_SRC emacs-lisp
;;; -*- lexical-binding: t; -*-

(setq user-full-name "David Mynors"
      user-mail-address "hello@davidmyno.rs")

(setq doom-theme 'eink)

(show-smartparens-global-mode 1)

(setq display-line-numbers-type 'relative)

;; when I open emacs I want it to fill my screen
(add-to-list 'default-frame-alist '(fullscreen . maximized))
#+END_SRC

** Fonts
I'm a fan of the [[https://input.fontbureau.com/][Input]] font family.
#+BEGIN_SRC emacs-lisp
(setq doom-font (font-spec :family "Input Mono Narrow" :size 15))
(setq doom-variable-pitch-font (font-spec :family "Input Sans Narrow"))
#+END_SRC
disable italics
#+BEGIN_SRC emacs-lisp
(set-face-italic-p 'italic nil)
#+END_SRC

** Keybindings
change vimkeys from hjkl to jkl: (I use karabiner to swap my ; and : keys)
#+BEGIN_SRC emacs-lisp
(map!
 (:after evil
   :nv "j" 'evil-backward-char
   :nv "k" 'evil-next-line
   :nv "l" 'evil-previous-line
   :nv ":" 'evil-forward-char

   :nv "h" 'evil-paste-after
   :nv "H" 'evil-paste-before))
#+END_SRC
adjust magit vimkeys accordingly
#+BEGIN_SRC emacs-lisp
(map!
 (:after magit
   :map magit-mode-map
   :nv "k" 'magit-section-forward
   :nv "l" 'magit-section-backward))
#+END_SRC
adjust ivy minibuffer vimkeys accordingly
(although when I hit C-k in the minibuffer created by
ivy/switch-workspace-buffer it runs ivy-previous-line)
#+BEGIN_SRC emacs-lisp
(map!
 (:after ivy
   :map ivy-minibuffer-map
   "C-j" 'ivy-backward-delete-char
   "C-k" 'ivy-next-line
   "C-l" 'ivy-previous-line
   "C-;" 'ivy-done))
#+END_SRC
easier motion around lines and paragraphs
#+BEGIN_SRC emacs-lisp
(map!
 :after evil
 :nvm "J" 'evil-first-non-blank
 :nvm "K" 'forward-paragraph
 :nvm "L" 'backward-paragraph
 :nvm ";" 'evil-last-non-blank)
#+END_SRC
easier movement between windows (taken from [[https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#easy-window-navigation][here]])
#+BEGIN_SRC emacs-lisp
(map!
 (:after evil
   :ni "M-j"   #'evil-window-left
   :ni "M-k"   #'evil-window-down
   :ni "M-l"   #'evil-window-up
   :ni "M-;"   #'evil-window-right)

 (:after evil-org
   :map evil-org-mode-map
   :ni "M-j"   #'evil-window-left
   :ni "M-k"   #'evil-window-down
   :ni "M-l"   #'evil-window-up))
#+END_SRC
Fix "#" input on UK MacBook keyboard
#+BEGIN_SRC emacs-lisp
(cond
 ((string-equal system-type "darwin")
  (progn
    (map!
     :i "M-3" (lambda () (interactive) (insert "#")))
    )))
#+END_SRC

** Ivy
use fuzzy regex matching for candidate selection
#+BEGIN_SRC emacs-lisp
(after! ivy
         (setq ivy-re-builders-alist
               '((t . ivy--regex-fuzzy))))
#+END_SRC
show ivy in posframe right under cursor
#+BEGIN_SRC emacs-lisp
(after! ivy
  (setq ivy-posframe-display-functions-alist '((t . ivy-posframe-display-at-point)))
  (ivy-posframe-mode 1))
#+END_SRC

** Org
#+BEGIN_SRC emacs-lisp
(setq org-directory "~/Dropbox/org")
#+END_SRC

*** Agenda
#+BEGIN_SRC emacs-lisp
(map!
 (:after evil-org-agenda
   :map evil-org-agenda-mode-map
   :m "k" 'org-agenda-next-line
   :m "l" 'org-agenda-previous-line))
#+END_SRC

** Flycheck
#+BEGIN_SRC emacs-lisp
(after! flycheck
  (setq-default flycheck-disabled-checkers '(javascript-jshint)))
#+END_SRC

** Deft
#+BEGIN_SRC emacs-lisp
(map! :leader
        :prefix "n"
        :desc "Open deft" "d" #'deft-find-file)
(after! deft
  (setq deft-directory "~/Dropbox/notes"
        deft-use-filter-string-for-filename t))
#+END_SRC

** Ranger (deer)
#+BEGIN_SRC emacs-lisp
(use-package! ranger
  :commands deer
  :init
  (map!
   :leader
   :prefix "f"
   :desc "Browse files with deer" "d" #'deer)
  :config
  (define-key! 'motion ranger-mode-map
    "." 'ranger-toggle-dotfiles
    "r" 'wdired-change-to-wdired-mode
    "h" 'ranger-paste

    "j" 'ranger-up-directory
    "k" 'ranger-next-file
    "l" 'ranger-prev-file
    ":" 'ranger-find-file))
#+END_SRC

** JavaScript
Use two spaces for indentation
#+BEGIN_SRC emacs-lisp
(after! js2-mode
  (setq-default js2-basic-offset 2))
#+END_SRC
